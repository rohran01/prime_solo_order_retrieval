function convertNumber(a){var b=a.substring(0,a.indexOf(".")),c=a.substring(a.indexOf(".")+1,a.length+1);b=parseInt(b),c=parseInt(c);var d=b+c/100;return d}function convertDate(a){var b=a.substring(5,7),c=a.substring(8,10),d=a.substring(0,4);return b+"-"+c+"-"+d}var app=angular.module("addressApp",["ngRoute"]);app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/index.html",controller:"MainController"}).when("/addressDisplay",{templateUrl:"views/addressDisplay.html",controller:"AddressDisplayController"}).when("/orderLookup",{templateUrl:"views/orderLookup.html",controller:"OrderLookupController"})}]),app.controller("MainController",["$scope",function(a){a.clicked=!1,a.showViews=function(){a.clicked=!0}}]),app.controller("AddressDisplayController",["$scope","$http",function(a,b){function c(){b.get("/api/getNames").then(function(b){a.people=b.data})["catch"](function(a){console.log(a)})}a.getAddresses=function(){var c={params:{id:a.idSelected.id}};console.log(c),b.get("/api/getAddresses",c).then(function(b){a.addresses=b.data})["catch"](function(a){console.log(a)})},c()}]),app.controller("OrderLookupController",["$scope","$http",function(a,b){function c(){var c={params:{id:a.idSelected.id,beginningDate:a.beginningDate.toISOString(),endingDate:a.endingDate.toISOString()}};b.get("/api/getOrders",c).then(function(b){a.calcTotal=0,a.table=!0,a.orders=b.data;for(var c=0;c<a.orders.length;c++){var d=a.orders[c];d.amount=convertNumber(d.amount),a.calcTotal+=d.amount,d.amount=d.amount.toFixed(2),d.order_date=d.order_date.substring(0,10),d.order_date=convertDate(d.order_date)}a.displayTotal=a.calcTotal.toFixed(2)})["catch"](function(a){console.log(a)})}function d(){b.get("/api/getNames").then(function(b){a.people=b.data})["catch"](function(a){console.log(a)})}a.table=!1,a.submit=function(){c()},d()}]);